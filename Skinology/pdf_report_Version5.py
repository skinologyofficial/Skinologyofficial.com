from fpdf import FPDF
def generate_report_pdf(pdf_path, data: dict, gender=""):
    pdf = FPDF()
    pdf.add_page()
    pdf.set_font("Arial", size=16)
    pdf.cell(200, 12, txt="AI Beauty & Lifestyle Report üá®üá¶", ln=True, align="C")
    pdf.set_font("Arial", size=12)
    pdf.ln(8)
    pdf.cell(200, 10, txt=f"‡πÄ‡∏û‡∏®/‡∏≠‡∏±‡∏ï‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå: {gender}", ln=True)
    pdf.cell(200, 10, txt=f"‡πÑ‡∏•‡∏ü‡πå‡∏™‡πÑ‡∏ï‡∏•‡πå: {data.get('lifestyle','')}", ln=True)
    pdf.cell(200, 10, txt=f"MBTI: {data.get('mbti','')}", ln=True)
    pdf.cell(200, 10, txt=f"‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì: {data.get('budget','')}", ln=True)
    pdf.ln(8)
    pdf.cell(200, 10, txt=f"Animal Type: {data.get('animal_type','')}", ln=True)
    pdf.cell(200, 10, txt=f"Skin Type: {data.get('skin_type','')}", ln=True)
    pdf.cell(200, 10, txt=f"Hair Type: {data.get('hair_type','')}", ln=True)
    pdf.cell(200, 10, txt=f"Personal Color: {data.get('personal_color','')}", ln=True)
    pdf.cell(200, 10, txt=f"Body Type: {data.get('body_type','')}", ln=True)
    pdf.ln(8)
    for cat in data.get("chosen_categories",[]):
        pdf.set_font("Arial", size=12)
        pdf.cell(200, 10, txt=f"{cat.title()} Recommendations:", ln=True)
        for rec in data.get("recommendations",{}).get(cat,[]):
            txt = rec.get("name",rec.get("style","")) + " ("+rec.get("store","")+") "+str(rec.get("price",""))
            pdf.cell(200,8,txt=txt,ln=True)
    pdf.ln(10)
    if data.get("premium_offer"):
        pdf.set_font("Arial", size=12)
        pdf.cell(200, 10, txt="‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏ó‡∏î‡∏•‡∏≠‡∏á‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå Premium: AI Try-On, Consult ‡πÅ‡∏•‡∏∞ Community!", ln=True)
    pdf.output(pdf_path)